/*! DateFiddler
A JavaScript library for generating testable dates

Brett Fattori
2014-03-07 */

!function(a,b,c,d){function e(a){var b=new j(a);return k&&b.setTimezone(l),b}function f(a,d){j=b,k&&(j=c.Date,l=d?d:l),this.targetDate=e(a)||new j,this.operation="=",this.accumulator=e(this.targetDate)}function g(a){return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a}function h(a){return a=g(a),a.setHours(12),a}function i(a){return a.setHours(23),a.setMinutes(59),a.setSeconds(59),a.setMilliseconds(999),a}var j,k=c!==d,l=k?"America/New_York":d;f.prototype={get reset(){return this.operation="=",this.accumulator=e(this.targetDate),this},get:function(){return e(this.accumulator)},getTimezone:function(){return k?this.accumulator.getTimezone():null},getTimezoneOffset:function(){return k?this.accumulator.getTimezoneOffset():0},get set(){return this.operation="=",this},get add(){return this.operation="+",this},get subtract(){return this.operation="-",this},doIt:function(a){return this.accumulator=e(a.call(this,this.accumulator)),this},op:function(a,b,c,d){return"="===this.operation?b.call(a,d):"+"===this.operation?b.call(a,c.call(a)+d):b.call(a,c.call(a)-d)},hours:function(a){return this.doIt(function(b){return this.op(b,b.setHours,b.getHours,a)})},minutes:function(a){return this.doIt(function(b){return this.op(b,b.setMinutes,b.getMinutes,a)})},seconds:function(a){return this.doIt(function(b){return this.op(b,b.setSeconds,b.getSeconds,a)})},milliseconds:function(a){return this.doIt(function(b){return this.op(b,b.setMilliseconds,b.getMilliseconds,a)})},time:function(a,b,c,d){return d=d||0,this.doIt(function(f){var g=e(this.op(f,f.setHours,f.getHours,a));return g=e(this.op(g,f.setMinutes,f.getMinutes,b)),g=e(this.op(g,f.setSeconds,f.getSeconds,c)),g=e(this.op(g,f.setMilliseconds,f.getMilliseconds,d))})},days:function(a){return this.doIt(function(b){return this.op(b,b.setDate,b.getDate,a)})},months:function(a){return this.doIt(function(b){return this.op(b,b.setMonth,b.getMonth,a)})},years:function(a){return this.doIt(function(b){return this.op(b,b.setFullYear,b.getFullYear,a)})},date:function(a,b,c,f){var g;return this.doIt(function(h){return f!==d&&(l=k?f:l),a.getTimezoneInfo||"[object Date]"===Object.prototype.toString.call(a)||a>12?g=e(a):(g=e(this.op(h,h.setMonth,h.getMonth,a-1)),g=e(this.op(g,h.setDate,h.getDate,b)),g=e(this.op(g,h.setFullYear,h.getFullYear,c))),g})},weeks:function(a){return this.doIt(function(b){return this.op(b,b.setDate,b.getDate,7*a)})},get midnight(){return this.doIt(function(a){return g(a)})},get noon(){return this.doIt(function(a){return h(a)})},get endOfDay(){return this.doIt(function(a){return i(a)})},get startOfWeek(){return this.doIt(function(a){var b=e(a.setDate(a.getDate()-a.getDay()));return g(b)})},get endOfWeek(){var a=6;return this.doIt(function(b){var c=e(b.setDate(b.getDate()+(a-b.getDay())));return i(c)})},get startOfMonth(){return this.doIt(function(a){var b=a.setDate(1);return g(b)})},get endOfMonth(){return this.doIt(function(a){var b=e(a.setMonth(a.getMonth()+1)).setDate(a.getDate()-1);return i(b)})},get sunday(){return this.doIt(function(a){return a.setDate(a.getDate()-a.getDay())})},get monday(){return this.doIt(function(a){return a.setDate(a.getDate()+(1-a.getDay()))})},get tuesday(){return this.doIt(function(a){return a.setDate(a.getDate()+(2-a.getDay()))})},get wednesday(){return this.doIt(function(a){return a.setDate(a.getDate()+(3-a.getDay()))})},get thursday(){return this.doIt(function(a){return a.setDate(a.getDate()+(4-a.getDay()))})},get friday(){return this.doIt(function(a){return a.setDate(a.getDate()+(5-a.getDay()))})},get saturday(){return this.doIt(function(a){return a.setDate(a.getDate()+(6-a.getDay()))})},timezone:function(a){return k&&(l=a),this}},a.DateFiddler=f}(this,this.Date,this.timezoneJS);
//# sourceMappingURL=DateFiddler.min.map